# Use Case 001: 새 작업 추가 (Add New Task)

## 1. 개요

| 항목 | 내용 |
|------|------|
| **유스 케이스 ID** | UC-001 |
| **유스 케이스명** | 새 작업 추가 |
| **작성일** | 2026-01-10 |
| **버전** | 1.1 (Trello 디자인 벤치마킹) |
| **상태** | 초안 |

## 2. 설명

사용자가 아이젠하워 매트릭스에 새 작업을 추가하는 기능입니다. Trello 스타일의 깔끔한 인터페이스를 통해 작업 제목, 설명, 사분면, 우선순위, 마감일을 설정할 수 있습니다.

**디자인 참고**: Trello의 카드 추가 인터페이스를 참고하여 깔끔하고 직관적인 사용자 경험을 제공합니다.

## 3. 액터

| 액터 유형 | 설명 |
|-----------|------|
| **주 액터** | 일반 사용자 |
| **보조 액터** | 시스템 (로컬 스토리지) |

## 4. 사전 조건

| 조건 | 설명 |
|------|------|
| PRE-01 | 사용자가 웹 애플리케이션을 열었다 |
| PRE-02 | 네트워크 연결 상태와 관계없이 동작 (로컬 기반) |

## 5. 사후 조건

| 조건 | 설명 |
|------|------|
| POST-01 | 새 작업이 선택한 사분면에 추가됨 |
| POST-02 | 작업 목록이 즉시 업데이트되어 화면에 표시됨 |
| POST-03 | 작업 데이터가 로컬 스토리지에 저장됨 |
| POST-04 | 해당 사분면의 작업 카운트가 1 증가함 |

## 6. 기본 흐름

| 단계 | 액터 | 시스템 |
|------|------|--------|
| 1 | "작업 추가" 버튼을 클릭함 | |
| | | 2. "작업 추가" 대화상자가 화면에 표시됨 (Trello 스타일 모달) |
| | | 3. 부드러운 페이드 + 스케일 애니메이션 (0.25s ease-out) |
| 3 | 작업 제목을 입력함 (필수) | |
| 4 | (선택) 작업 설명을 입력함 | |
| 5 | (선택) 사분면을 선택함 (기본값: DO) | |
| 6 | (선택) 우선순위를 선택함 (기본값: medium) | |
| 7 | (선택) 마감일을 선택함 | |
| 8 | "추가" 버튼을 클릭함 | |
| | | 9. 입력값을 검증함 |
| | | 10. 새 Task 객체를 생성함 |
| | | 11. Zustand 스토어에 작업을 추가함 |
| | | 12. 로컬 스토리지에 데이터를 저장함 |
| | | 13. 대화상자가 닫히고 화면이 업데이트됨 |
| | | 14. 해당 사분면에 새 작업 카드가 스태거 애니메이션과 함께 표시됨 |

## 7. 대체 흐름

| 대체 흐름 | 조건 | 설명 |
|-----------|------|------|
| ALT-01 | 제목 미입력 | 시스템이 "작업 제목은 필수입니다" 토스트 메시지를 표시함 |
| ALT-02 | 제목 공백만 입력 | 시스템이 "제목을 입력해주세요" 토스트 메시지를 표시함 |
| ALT-03 | 취소 버튼 클릭 | 대화상자가 닫히고 입력된 데이터는 저장되지 않음 |

## 8. 예외 상황

| 예외 상황 | 처리 방법 |
|-----------|-----------|
| EXC-01 | 로컬 스토리지 접근 오류 발생 시 콘솔에 오류 로깅, 사용자에게 토스트 메시지 표시 |
| EXC-02 | 네트워크 오류 (오프라인 상태) - 영향 없음 (로컬 처리) |

## 9. 트리거

| 트리거 유형 | 설명 |
|-------------|------|
| 사용자 클릭 | 헤더의 "작업 추가" 버튼 클릭 (Trello Blue #0079BF) |

## 10. UI 요구사항 (Trello 스타일)

### 10.1 대화상자 레이아웃 (Trello 모달 스타일)

```
┌─────────────────────────────────────────┐
│  새 작업 추가                      [X]   │
├─────────────────────────────────────────┤
│                                         │
│  작업 제목 *                        ┌───┐
│  ┌─────────────────────────────────┐  │   │  ← 흰색 배경, 8px 모서리
│  │                                 │  └───┘  ← Trello 스타일 입력 필드
│  └─────────────────────────────────┘
│                                         │
│  설명                                  │
│  ┌─────────────────────────────────┐  │
│  │                                 │  │
│  │                                 │  │  ← 8px 패딩
│  └─────────────────────────────────┘
│                                         │
│  사분면              우선순위            │
│  ┌───────┐          ┌───────┐          │  ← 깔끔한 드롭다운
│  │  DO   ▼│          │ 중간 ▼│          │
│  └───────┘          └───────┘          │
│                                         │
│  마감일                                  │
│  ┌─────────────────────────────┐        │
│  │ 📅 2026.01.15               │        │  ← 날짜 피커
│  └─────────────────────────────┘        │
│                                         │
├─────────────────────────────────────────┤
│           [취소]  [추가]                │  ← 회색 배경 버튼 / 파란색 액션 버튼
└─────────────────────────────────────────┘
```

### 10.2 Trello 스타일 디자인 요소

| 요소 | 스타일 |
|------|--------|
| **대화상자 배경** | `#FFFFFF` |
| **버튼 모서리** | `8px (border-radius: 8px)` |
| **입력 필드** | `border: 1px solid #DFE1E6`, `border-radius: 3px` |
| **취소 버튼** | `bg-transparent`, `text: #42526E` |
| **추가 버튼** | `bg-[#0079BF]`, `text: #FFFFFF` (Trello Blue) |
| **전환 애니메이션** | `0.25s ease-out` |
| **입력 필드 포커스** | `border-color: #0079BF`, `box-shadow: 0 0 0 2px rgba(0, 121, 191, 0.2)` |

### 10.3 애니메이션 요구사항

| 이벤트 | 애니메이션 유형 | 지속 시간 | 이징 |
|--------|----------------|-----------|------|
| 대화상자 열림 | Effect zoom (inView) | 300ms | ease-out |
| 입력 필드 포커스 | smooth transition | 150ms | ease |
| 작업 카드 추가 | StaggeredList (slide up + fade) | 200ms 간격 | ease-out |

### 10.4 작업 카드 추가 후 표시

새 작업 카드가 추가될 때 Trello 스타일의 애니메이션으로 표시됩니다:

```typescript
// Trello 스타일 새 카드 애니메이션
<AnimatedWrapper variant="slide" direction="up" delay={0}>
  <TrelloCard hoverable className="border-l-4 border-l-[#0079BF]">
    {/* 작업 내용 */}
  </TrelloCard>
</AnimatedWrapper>
```

## 11. 데이터 모델

### 11.1 입력 데이터

```typescript
interface TaskFormData {
  title: string;           // 필수, 1자 이상
  description?: string;    // 선택, 최대 500자
  quadrant: 'DO' | 'PLAN' | 'DELEGATE' | 'DELETE';  // 기본값: 'DO'
  priority: 'high' | 'medium' | 'low' | 'none';     // 기본값: 'medium'
  dueDate?: string;        // 선택, YYYY-MM-DD 형식
}
```

### 11.2 생성되는 Task 객체

```typescript
interface Task {
  id: string;              // 자동 생성: task_{timestamp}_{random}
  title: string;
  description?: string;
  quadrant: QuadrantType;
  priority: TaskPriority;
  colorTag?: ColorTag;
  dueDate?: string;
  completed: boolean;      // 기본값: false
  createdAt: string;       // ISO 8601 형식
  updatedAt: string;       // ISO 8601 형식
}
```

## 12. 비즈니스 규칙

| 규칙 ID | 규칙 설명 |
|---------|-----------|
| BR-001 | 작업 제목은 필수이며 최소 1자 이상이어야 함 |
| BR-002 | 사분면은 4개 값 중 하나만 선택 가능 |
| BR-003 | 우선순위는 4개 값 중 하나만 선택 가능 |
| BR-004 | 마감일은 오늘 이후 날짜만 선택 가능 (선택적 검증) |
| BR-005 | 새 작업은 항상 completed = false로 생성됨 |

## 13. 검증 규칙

| 검증 항목 | 규칙 | 오류 메시지 |
|-----------|------|-------------|
| 제목 필수 | title !== '' && title.trim().length > 0 | "작업 제목은 필수입니다" |
| 제목 최대 길이 | title.length <= 100 | "제목은 100자 이내로 입력해주세요" |
| 설명 최대 길이 | description?.length <= 500 | "설명은 500자 이내로 입력해주세요" |

## 14. 관련 유스 케이스

| 관련 유스 케이스 | 관계 유형 |
|-----------------|-----------|
| UC-002: 작업 수정 | 후속 (수정으로 이어질 수 있음) |
| UC-003: 작업 삭제 | 대체 (취소 대신 삭제 가능) |
| UC-005: 작업 이동 | 후속 (다른 사분면으로 이동) |

## 15. 디자인 시스템 참고

- **Trello Design System**: https://design.trello.com/
- **Atlassian Design System**: https://atlassian.design/
- **주 색상**: Trello Blue (#0079BF)
- **카드 스타일**: 8px border-radius, 깔끔한 그림자

---
